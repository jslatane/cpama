# C Fundamentals

Concepts in this chapter:

- Preprocessing directives
- Functions
- Variables
- Statements

## 2.1 Writing a Simple Program

`pun.c` displays a message each time it is run:

```c
#include <stdio.h>  //Includes info about C's standard I/O library

int main(void)  //Contains the program's executable code
{
    printf("To C, or not to C: that is the question.\n");  //Func from the standard I/O library (stdio)
    return 0;   //Returns the value 0 to the OS when it terminates
}
```

### Compiling and Linking

Steps needed to get `pun.c` to run:

- Create a file named `pun.c` containing the program - the `.c` extension is often required by compilers
- Convert the program to a form that the machine can execute, which usually involves three steps:
    1. ***Preprocessing***: obeys commands that begin with `#` which are called ***directives***. The ***preprocessor*** is like an editor, can add to and modify the program
    2. ***Compiling***: translates the modified program into machine instructions called ***object code***
    3. ***Linking***: combines object code from the compiler with any additional code (like library functions) that are used in the program

Usually the preprocessor is integrated with the compiler so no extra work is required to do this.

I will be using the GNU Compiler Collection (GCC) like this:

```shell
gcc -Wall -Werror -g -o pun pun.c
```

- `-Wall` enables all warnings about questionable constructions that are easy to avoid
- `-Werror` makes all warnings into errors
- `-g`
    - requests that the compiler and linker generate and retain source-level debugging/symbol info in the executable itself
    - reference for more info on this flag: [https://stackoverflow.com/a/5179230/5906389](https://stackoverflow.com/a/5179230/5906389)
    - reference for what is a core file: [https://stackoverflow.com/a/7326789/5906389](https://stackoverflow.com/a/7326789/5906389)
- `-o` provide option to name the primary output file (executable) something other than `a.out`

### Integrated Development Environments

An IDE provides tools for editing, compiling, linking, executing, and debugging programs.
I'll plan to use Visual Studio Code with the C/C++ plugin which helps with editing and debugging, then rely on gcc for compiling and linking. Executing will probably just be done manually (unless I find a better alternative later).

## 2.2 The General Form of a Simple Program

Simple C programs have the form

```c
//directives
int main(void)
{
    //statements
}
```

A note about formatting - in the book in the block above, `directives` and `statements` are written in italics, and the rest is monospaced. I don't know how to make that look good in markdown so I'll just use comments instead of italics for "text to be supplied by the programmer", at least as long as it makes sense.

C uses `{` and `}` like other languages use `begin` and `end` which illustrates a general point about how C relies on abbreviations and special symbols.

Three key language features:

1. Directives: editing commands that modify the program prior to compilation
2. Functions: named blocks of executable code
3. Statements: commands to perform when the program is run

### Directives

C programs are edited by the preprocessor before compilation; commands for the preprocessor are called directives.

The first line of `pun.c` is:

```c
#include <stdio.h>
```

which states that the info in `<stdio.h>` is to be "included" into the program before compilation. The `.h` denotes it is a ***header***; each contains info about some part of the standard library. C has no built-in read or write functions, these are provided by functions in the standard library.

Directives always begin with `#`, are one line long, and have no semicolon at the end.

### Functions

Building blocks for building programs.

Two categories: those written by the programmer and those provided with the C implementation, aka ***library*** functions.

C uses the term "function" more loosely than mathematical functions; in C it just refers to a series of statements that have been grouped together and given a name.

## 2.3 Comments

## 2.4 Variables and Assignment

## 2.5 Reading Input

## 2.6 Defining Names for Constants

## 2.7 Identifiers

## 2.8 Layout of a C Program
